# Telenursing Web GUI
This software package provides both fontend and backend components of a web-based GUI. The software is currently configured to be run on the same computer as the rest of the ROS enviornment, but this could be easily changed to allow for the GUI software to be run on a seperate machine.

# Dependencies
The backend portion of the application is written in python and makes use of the Flask microservice framework, so it will need to be installed on your system if you don't already have it. This can be done by running the following in a terminal:

```bash
pip install flask
pip install Flask-Cors
```

# Usage
execute the included launch file to bring up all required nodes to interact with the Trina2 robot through the use of the mobile interface.

```bash
roslaunch telenursing_web_gui GUI.launch
```

# Published Topics
Please see the table below for an explaination of the topics published by the backend. 

| Topic             | Type            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------|-----------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| /virtualJoystick  | sensor_msgs/Joy | a sensor\_msgs/Joy message representing the current state of user input. Please see the following for a description of the message components:<br>Axes[0]: Current FwdRev user input (between -1 and 1) for mobile robot control<br>Axes[1]: Current Spin user input (between -1 and 1) for mobile robot control<br>Axes[2]: Current X-Axis user input (between -1 and 1) for robot manipulator control<br>Axes[3]: Current Y-Axis user input (between -1 and 1) for robot manipulator control<br>Axes[4]: Current Z-Axis user input (between -1 and 1) for robot manipulator control<br>Axes[5]: Current Yaw user input (between -1 and 1) for robot manipulator control<br>Axes[6]: Current Pitch user input (between -1 and 1) for robot manipulator control<br>Axes[7]: Current Roll user input (between -1 and 1) for robot manipulator control |
| /mobilePageActive | std_msgs/Bool   | A boolean indicating if the mobile robot control page is active                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| /taskPageActive   | std_msgs/Bool   | A boolean indicating if the task view and control page is active                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| /primaryCam       | std_msgs/String | A string representing the current primary camera ("head" for head camera and "leftArm" for left eye-in-hand camera).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| /secondaryCam     | std_msgs/String | A string representing the current secondary camera ("head" for head camera and "leftArm" for left eye-in-hand camera).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |

# Provided ROS Services

Please see the table below for a desciption of the ROS services provided by this node.

| Service Name       | Parameter Type | Return Type   | Description                                                                                                                                                                                                                                                                                                                 |
|--------------------|----------------|---------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| /changeStreamState | std_msgs/Bool  | std_msgs/Bool | This service will swap the stream URLs within the interface's active page iframe components. External ROS nodes should make calls to this service to swap the webcam streams (i.e. for gaze tracking context switching). Providing a parameter value of True will swap the streams, while a value of False will do nothing. |
